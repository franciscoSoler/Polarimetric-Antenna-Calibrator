% in this script i shall try to demonstrate if the A matrix's range 
% is maximum

% incógnitas
% x2 x3 x4 b1 b2 b3 b4 b5 b6 b10 b11 b16 b20 b22 b24
%{
B = [ 2  0  0  1  1  0  0  0 -1  0  0  0  0  0  0 
      2  0  0  1  0  0  0  0  0 -1  0  0  0  1  0
      2  0  0  0  0  1  0  0  0  0  0  0  0  0  1
      2 -2  0  0  0  0  0  0  0  0  0  0  0  0  0 
      0  2 -2  0  0  0  0  0  0  0  0  0  0  0  0
      0  2  0  1  0  1  0  0  0  0 -1  0  0  0  0
      0  1  0  0  0  0  0  0  0  0  0  0  0  0  1
      0  1  0  0  1  0  0  0  0  0  0  0  0  0  0
      2  0 -2  0  0  0  0  0  0  0  0  0  0  0  0
     -1  0  1  0  0  0  0  0  1  0  0  0 -1  0  0
     -1  0  1  0  0  0  0  0  0  1  0 -1  0  0  0
      1  0 -1  0  0  0  0  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  1  0  0  0  0 -1  0  0  0
      0  0  2  0  1  1  0  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  0  0  0  0  0  0 -1  0  1
      0  0  0  0  1  0  1  0  0  0  0  0  0 -1 -1];
rank(B)
%}
% el rango es de 11, 4 menos del que necesito
% No estoy usando b5, lo elimino

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% incógnitas
% x2 x3 x4 b1 b2 b3 b4 b6 b10 b11 b16 b20 b22 b24
%{
B = [ 2  0  0  1  1  0  0 -1  0  0  0  0  0  0 
      2  0  0  1  0  0  0  0 -1  0  0  0  1  0
      2  0  0  0  0  1  0  0  0  0  0  0  0  1
      2 -2  0  0  0  0  0  0  0  0  0  0  0  0 
      0  2 -2  0  0  0  0  0  0  0  0  0  0  0
      0  2  0  1  0  1  0  0  0 -1  0  0  0  0
      0  1  0  0  0  0  0  0  0  0  0  0  0  1
      0  1  0  0  1  0  0  0  0  0  0  0  0  0
      2  0 -2  0  0  0  0  0  0  0  0  0  0  0
     -1  0  1  0  0  0  0  1  0  0  0 -1  0  0
     -1  0  1  0  0  0  0  0  1  0 -1  0  0  0
      1  0 -1  0  0  0  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  1  0  0  0 -1  0  0  0
      0  0  2  0  1  1  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  0  0  0  0  0 -1  0  1
      0  0  0  0  1  0  1  0  0  0  0  0 -1 -1];
rank(B)
%}

% el rango es de 11, 3 menos del que necesito, no es prometedor, es lo mismo 
% que usando solo un path virtual

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% uso las ecuaciones que tienen b = 0
%	0 = b2 + b4 - b22 - b24
%	b24 = b2 + b4 - b22

% incógnitas
% x2 x3 x4 b1 b2 b3 b4 b6 b10 b11 b16 b20 b22
%{
B = [ 2  0  0  1  1  0  0 -1  0  0  0  0  0 
      2  0  0  1  0  0  0  0 -1  0  0  0  1
      2  0  0  0  1  1  1  0  0  0  0  0 -1
      2 -2  0  0  0  0  0  0  0  0  0  0  0 
      0  2 -2  0  0  0  0  0  0  0  0  0  0
      0  2  0  1  0  1  0  0  0 -1  0  0  0
      0  1  0  0  1  0  1  0  0  0  0  0 -1
      0  1  0  0  1  0  0  0  0  0  0  0  0
      2  0 -2  0  0  0  0  0  0  0  0  0  0
     -1  0  1  0  0  0  0  1  0  0  0 -1  0
     -1  0  1  0  0  0  0  0  1  0 -1  0  0
      1  0 -1  0  0  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  1  0  0  0 -1  0  0
      0  0  2  0  1  1  0  0  0  0  0  0  0
      0  0  2  1  1  0  1  0  0  0  0 -1 -1];
rank(B)
%}
% El rango es de 10, sigo en la misma

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% uno 2 ecuaciones que tienen igual a x2
%	x2 = x4 + b6 - b20 
%	x2 = x4 + b10 - b16
%		b20 = b6 - b10 + b16
% incógnitas
% x2 x3 x4 b1 b2 b3 b4 b6 b10 b11 b16 b22
%
B = [ 2  0  0  1  1  0  0 -1  0  0  0  0 
      2  0  0  1  0  0  0  0 -1  0  0  1
      2  0  0  0  1  1  1  0  0  0  0 -1
      2 -2  0  0  0  0  0  0  0  0  0  0 
      0  2 -2  0  0  0  0  0  0  0  0  0
      0  2  0  1  0  1  0  0  0 -1  0  0
      0  1  0  0  1  0  1  0  0  0  0 -1
      0  1  0  0  1  0  0  0  0  0  0  0
      2  0 -2  0  0  0  0  0  0  0  0  0
     -1  0  1  0  0  0  0  0  1 -1  0  0
	  1  0 -1  0  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  1  0  0  0 -1  0
      0  0  2  0  1  1  0  0  0  0  0  0
      0  0  2  1  1  0  1 -1  1  0 -1 -1];
rank(B)
%
% El rango es de 10, mejoré uno, faltan 2 dimensiones

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% uno 2 ecuaciones que tienen igual a x1
%	2x1 = 2x2 + b1 + b2 - b6 
%	2x1 = 2x2 + b1 - b10 + b22
%		b22 = b2 - b6 + b10 
% incógnitas
% x2 x3 x4 b1 b2 b3 b4 b6 b10 b11 b16

B = [ 2  0  0  1  1  0  0 -1  0  0  0
	  2  0  0  0  0  1  1  1 -1  0  0
      2 -2  0  0  0  0  0  0  0  0  0 
      0  2 -2  0  0  0  0  0  0  0  0
      0  2  0  1  0  1  0  0  0 -1  0
      0  1  0  0  0  0  1  1 -1  0  0
      0  1  0  0  1  0  0  0  0  0  0
      2  0 -2  0  0  0  0  0  0  0  0
     -1  0  1  0  0  0  0  0  1 -1  0 
      1  0 -1  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  1  0  0  0 -1
      0  0  2  0  1  1  0  0  0  0  0
      0  0  2  1  0  0  1  0  0  0 -1];
rank(B)

% El rango es de 9, vamos igual que el paso anterior 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% uno 2 ecuaciones que tienen igual a b19 + 2x1
% 	simplemente hay una redundante, elimino la ultima fila

% incógnitas
% x2 x3 x4 b1 b2 b3 b4 b6 b10 b11 b16

B = [ 2  0  0  1  1  0  0 -1  0  0  0
	  2  0  0  0  0  1  1  1 -1  0  0
      2 -2  0  0  0  0  0  0  0  0  0 
      0  2 -2  0  0  0  0  0  0  0  0
      0  2  0  1  0  1  0  0  0 -1  0
      0  1  0  0  0  0  1  1 -1  0  0
      0  1  0  0  1  0  0  0  0  0  0
      2  0 -2  0  0  0  0  0  0  0  0
     -1  0  1  0  0  0  0  0  1 -1  0 
      1  0 -1  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  1  0  0  0 -1
      0  0  2  0  1  1  0  0  0  0  0];
rank(B)

% El rango es de 9, vamos igual que el paso anterior 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% último paso, sumo como 5 ecuaciones: 1,3,9,12,13 y 14
% -b7 - 2x1 = -2x2 - b1 - b2 + b6
% -b8 - b9 - 2x1 = -2x2 - b3 - b24
% b7 + b9 - b17 - b19 = 2(x2 - x4)
% b8 - b18 = x2 - x4
% b19 + 2x1 = 2x4 + b1 + b4 - b16
% b17 + b18 + 2x1 = 2x4 + b2 + b3
%	como b24 = b4 + b6 - b10, el sistema queda 

% -b7 - 2x1 = -2x2 - b1 - b2 + b6
% -b8 - b9 - 2x1 = -2x2 - b3 - b4 - b6 + b10
% b7 + b9 - b17 - b19 = 2(x2 - x4)
% b8 - b18 = x2 - x4
% b19 + 2x1 = 2x4 + b1 + b4 - b16
% b17 + b18 + 2x1 = 2x4 + b2 + b3
%	ecuación resultante	
%	0 = -x2 + x4 + b10 - b16 
% es una ecuación existente grrgr (debería eliminar también las xi para lograr
% lo buscado)

% incógnitas
% x2 x3 x4 b1 b2 b3 b4 b6 b10 b11 b16

B = [ 2  0  0  1  1  0  0 -1  0  0  0
	  2  0  0  0  0  1  1  1 -1  0  0
      2 -2  0  0  0  0  0  0  0  0  0 
      0  2 -2  0  0  0  0  0  0  0  0
      0  2  0  1  0  1  0  0  0 -1  0
      0  1  0  0  0  0  1  1 -1  0  0
      0  1  0  0  1  0  0  0  0  0  0
      2  0 -2  0  0  0  0  0  0  0  0
     -1  0  1  0  0  0  0  0  1 -1  0 
      1  0 -1  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  1  0  0  0 -1
      0  0  2  0  1  1  0  0  0  0  0];
rank(B)

% El rango es de 9, vamos igual que el paso anterior 



% hay que ver con poner cada xi como a x1
% hay que simplificar restas de bi's


% aca simplemente elimine el b20
% x2 x3 x4 b1 b2 b3 b4 b6 b10 b11 b16 b20 b22 b24
B = [ 2  0  0  1  1  0  0 -1  0  0  0  0  0  0 
      2  0  0  1  0  0  0  0 -1  0  0  0  1  0
      2  0  0  0  0  1  0  0  0  0  0  0  0  1
      2 -2  0  0  0  0  0  0  0  0  0  0  0  0 
      0  2 -2  0  0  0  0  0  0  0  0  0  0  0
      0  2  0  1  0  1  0  0  0 -1  0  0  0  0
      0  1  0  0  0  0  0  0  0  0  0  0  0  1
      0  1  0  0  1  0  0  0  0  0  0  0  0  0
      2  0 -2  0  0  0  0  0  0  0  0  0  0  0
     -1  0  1  0  0  0  0  0  1  0 -1  0  0  0
     -1  0  1  0  0  0  0  0  1  0 -1  0  0  0
      1  0 -1  0  0  0  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  1  0  0  0 -1  0  0  0
      0  0  2  0  1  1  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  0 -1  1  0 -1  0  0  1
      0  0  0  0  1  0  1  0  0  0  0  0 -1 -1];
rank(B)
% el rango es 10, no cambie nada, tendre antes algun error de cuentas?
% elimino la ultima cuenta generada, la que es igual a 0 y son solo bis

% b24 = b2 + b4 - b22
% x2 x3 x4 b1 b2 b3 b4 b6 b10 b11 b16 b22 b24
B = [ 2  0  0  1  1  0  0 -1  0  0  0  0 
      2  0  0  1  0  0  0  0 -1  0  0  1
      2  0  0  0  1  1  1  0  0  0  0 -1
      2 -2  0  0  0  0  0  0  0  0  0  0 
      0  2 -2  0  0  0  0  0  0  0  0  0
      0  2  0  1  0  1  0  0  0 -1  0  0
      0  1  0  0  1  0  1  0  0  0  0 -1
      0  1  0  0  1  0  0  0  0  0  0  0
      2  0 -2  0  0  0  0  0  0  0  0  0
     -1  0  1  0  0  0  0  0  1  0 -1  0
     -1  0  1  0  0  0  0  0  1  0 -1  0
      1  0 -1  0  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  1  0  0  0 -1  0
      0  0  2  0  1  1  0  0  0  0  0  0
      0  0  2  1  1  0  1 -1  1  0 -1 -1];
rank(B)

% el rango es 9 woooot????
B = [ 2  0  0  1  1  0  0 -1  0  0  0  0 
      2  0  0  1  0  0  0  0 -1  0  0  1
      2  0  0  0  1  1  1  0  0  0  0 -1
      2 -2  0  0  0  0  0  0  0  0  0  0 
      0  2 -2  0  0  0  0  0  0  0  0  0
      0  2  0  1  0  1  0  0  0 -1  0  0
      0  1  0  0  1  0  1  0  0  0  0 -1
      0  1  0  0  1  0  0  0  0  0  0  0
      2  0 -2  0  0  0  0  0  0  0  0  0
     -1  0  1  0  0  0  0  0  1 -1  0  0
	  1  0 -1  0  0  0  0  0  0  0  0  0
      0  0  2  1  0  0  1  0  0  0 -1  0
      0  0  2  0  1  1  0  0  0  0  0  0
      0  0  2  1  1  0  1 -1  1  0 -1 -1];
rank(B)

